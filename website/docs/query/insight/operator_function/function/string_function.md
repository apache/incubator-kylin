---
title: String Functions
language: en
sidebar_label: String Functions
pagination_label: String Functions
toc_min_heading_level: 2
toc_max_heading_level: 6
pagination_prev: null
pagination_next: null
keywords:
    - string functions
draft: false
last_update:
    date: 08/17/2022
---

| Syntax                                                       | Description                                                  | Example                                                      | Normal Query | Pushdown Query | Defined as Computed Column | Suggested as Computed Column |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------ | -------------- | -------------------------- | ---------------------------- |
| CHAR_LENGTH(string)                                          | Returns the number of characters in a character string       | `CHAR_LENGTH('Kyligence')`<br /> = 9                         | ✔️            | ✔️              | ✔️                          | ✔️                            |
| CHARACTER_LENGTH(string)                                     | As CHAR_LENGTH(*string*)                                     | ` CHARACTER_LENGTH('Kyligence')`<br /> = 9                   | ✔️            | ✔️              | ✔️                          | ✔️                          |
| UPPER(string)                                                | Returns a character string converted to upper case           | ` UPPER('Kyligence')`<br /> = KYLIGENCE                      | ✔️            | ✔️              | ✔️                          | ✔️                            |
| LOWER(string)                                                | Returns a character string converted to lower case           | ` LOWER('Kyligence')`<br /> = kyligence                      | ✔️            | ✔️              | ✔️                          | ✔️                            |
| POSITION(string1 IN string2)                                 | Returns the position of the first occurrence of *string1* in *string2* | ` POSITION('Kyli' IN 'Kyligence')`<br /> = 1                 | ✔️            | ✔️              | ✔️                          | ✔️                            |
| TRIM( { BOTH \ LEADING\ TRAILING } string1 FROM string2)     | Removes the longest string containing only the characters in *string1* from the both ends/start/end of *string1* | Example1: <br />` TRIM(BOTH '6' FROM '666Kyligence66')`<br /> = Kyligence<br /><br />Example 2: <br />` TRIM(LEADING '6' FROM '666Kyligence66')`<br /> = Kyligence66<br /><br />Example 3: <br />` TRIM(TRAILING '6' FROM '666Kyligence66')`<br /> = 666Kyligence | ✔️            | ✔️              | ✔️                          | ❌                            |
| OVERLAY(string1 PLACING string2 FROM integer [ FOR integer2 ]) | Replaces a substring of *string1* with *string2*  starting at the integer bit | `OVERLAY('666' placing 'KYLIGENCE' FROM 2 for 2)`<br/>= 6KYLIGENCE | ✔️            | ✔️              | ✔️                          | ✔️                            |
| SUBSTRING(string FROM integer)                               | Returns a substring of a character string starting at a given point | ` SUBSTRING('Kyligence' FROM 5)`<br /> = gence               | ✔️            |  ✔️              |  ✔️                           |  ✔️                            |
| SUBSTRING(string FROM integer1 FOR integer2)                 | Returns a substring of a character string starting at a given point with a given length | ` SUBSTRING('Kyligence' from 5 for 2)`<br /> = ge            | ✔️            | ✔️              | ✔️                          | ✔️                            |
| INITCAP(string)                                              | Returns *string* with the first letter of each word converter to upper case and the rest to lower case. Words are sequences of alphanumeric characters separated by non-alphanumeric characters. | ` INITCAP('kyligence')`<br /> = Kyligence                    | ✔️            | ✔️              | ✔️                          | ✔️                            |
| REPLACE(string, search, replacement)                         | Returns a string in which all the occurrences of *search* in *string* are replaced with *replacement*; if *replacement* is the empty string, the occurrences of *search* are removed | ` REPLACE('Kyligence','Kyli','Kyliiiiiii')`<br /> = Kyliiiiiiigence | ✔️            | ✔️              | ✔️                          | ✔️                            |
| BASE64(bin)                                                  | Converts the argument from a binary `bin` to a base 64 string | ` BASE64('Spark SQL')`<br /> = U3BhcmsgU1FM                  | ✔️            | ✔️              | ✔️                          | ✔️                            |
| DECODE(bin, charset)                                         | Decodes the first argument using the second argument character set (one of 'US-ASCII', 'ISO-8859-1', 'UTF-8', 'UTF-16BE', 'UTF-16LE', 'UTF-16'). If either argument is null, the result will also be null | ` DECODE(ENCODE('abc', 'utf-8'), 'utf-8')`<br /> = abc       | ✔️            | ✔️              | ✔️                          | ✔️                            |
| ENCODE(str, charset)                                         | Encodes the first argument using the second argument character set(one of 'US-ASCII', 'ISO-8859-1', 'UTF-8', 'UTF-16BE', 'UTF-16LE', 'UTF-16'). If either argument is null, the result will also be null | ` ENCODE('abc', 'utf-8')`<br /> = `[B@2b442236`                        | ✔️            | ✔️              | ❌                          | ❌                            |
| FIND_IN_SET(str, str_array)                                  | Returns the index (1-based) of the given string (`str`) in the comma-delimited list (`str_array`).Returns 0, if the string was not found or if the given string (`str`) contains a comma | ` FIND_IN_SET('ab','abc,b,ab,c,def')`<br /> = 3              | ✔️            | ✔️              | ✔️                          | ✔️                          |
| LCASE(string)                                                | Returns `string` with all characters changed to lowercase    | `LCASE('SparkSql')`<br /> = sparksql                         | ✔️            | ✔️              | ✔️                          | ✔️                            |
| LEVENSHTEIN(str, str)                                        | Returns the Levenshtein distance between the two given strings | ` LEVENSHTEIN('kitten', 'sitting')`<br /> = 3                | ✔️            | ✔️              | ✔️                          | ✔️                            |
| LOCATE(substr, str[, pos])                                   | Returns the position of the first occurrence of `substr` in `str` after position `pos`. The given `pos` and return value are 1-based | ` LOCATE('bar', 'foobarbar')`<br /> = 4 <br /> `LOCATE('bar', 'foobarbar', 5)` <br /> =7 | ✔️            | ✔️              | ✔️                          | ✔️                            |
| LPAD(str, len, pad)                                          | Returns `str`, left-padded with `pad` to a length of `len`.If `str` is longer than `len`, the return value is shortened to `len` characters. | ` LPAD('hi', 5, '??')`<br /> = ???hi                         | ✔️            | ✔️              | ✔️                          | ✔️                            |
| RPAD(str, len, pad)                                          | Returns `str`, right-padded with `pad` to a length of `len`. If `str` is longer than `len`, the return value is shortened to `len` characters | ` RPAD('hi', 5, '??')`<br /> = hi???                         | ✔️            | ✔️              | ✔️                          | ✔️                            |
| RTRIM(trimStr, str)                                          | Removes the trailing string which contains the characters from the trim string from the `str` | `RTRIM('KR', 'SPARK')`<br /> = SPA                           | ✔️            | ✔️              | ✔️                          | ✔️                            |
| SENTENCES(str)                                               | Splits `str` into an array of array of words.                | ` SENTENCES('Hi there! Good morning.')`<br /> = [["Hi","there"],["Good","morning"]] | ✔️            | ✔️              | ❌                          | ❌                            |
| SUBSTRING_INDEX(str, delim, count)                           | Returns the substring from `str` before `count` occurrences of the delimiter `delim`. If `count` is positive, everything to the left of the final delimiter (counting from the left) is returned. If `count` is negative, everything to the right of the final delimiter (counting from the right) is returned. The function substring_index performs a case-sensitive match  when searching for `delim` | ` SUBSTRING_INDEX('www.apache.org', '.', 1)`<br /> = www     | ✔️            | ✔️              | ✔️                          | ✔️                            |
| UCASE(str)                                                   | Returns `str` with all characters changed to uppercase.      | ` UCASE('SparkSql')`<br /> = SPARKSQL                        | ✔️            | ✔️              | ✔️                          | ✔️                            |
| UNBASE64(str)                                                | Converts the argument from a base 64 string `str` to a binary. | ` UNBASE64('U3BhcmsgU1FM')`<br /> = `[B@7c66820d`                | ✔️            | ✔️              | ❌                          | ❌                            |
| ASCII(str)                             | Convert character to corresponding ascii code | ` ASCII('a')` = 97| ✔️ | ❌| ✔️              | ✔️              |
| CHR(str)                             | Convert ascii code to corresponding character| ` CHR(97)` = a| ✔️ | ❌| ✔️              | ✔️              |
| SPACE(len)                             | Generate `len` number of continuous space | space(2) =`  ` | ✔️ | ❌| ❌                | ❌                |
| SPLIT_PART(str, separator, index)  | Split `str` with `separator` and return the `index`-th token. `index` counts from 1. when `index` is negative, tokens are counted starting from the right. | `split_part('a-b-c', '-', 1)` = a, <br /> `split_part('a-b-c', '-', -1)` = c,| ✔️ | ❌| ✔️              | ✔️              |
| CONCAT(str1, str2) | Concatenate the strings `str1` and `str2` into one string    | `concat('Kyli', 'gence') `= Kyligence                        | ✔️ | ✔️ | ✔️              | ✔️              |
| REPEAT(str,n)| Repeat `str` `n` times and return string. When querying the model, `str` supports passing in constants, columns and expressions, and `n` only supports passing in constants | `repeat('kylin',2)` ='kylinkylin' | ✔️ | ✔️ | ✔️ | ✔️ |
| LEFT(str,n)| Return the `n` characters from the left of `str`. When querying the model, `str` supports passing in constants, columns, and `n` only supports passing in constants | `left('kylin',2)` ='ky' | ✔️ | ✔️ | ✔️ | ✔️ |
